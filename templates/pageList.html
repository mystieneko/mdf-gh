{% extends 'base.html' %}
{% block title %}Pages - {{ config['BLOG_NAME'] }}{% endblock %}
{% block content %}
{% if pages | length > 0 %}
	{% for page in pages %}
		<div class="card mt-2">
			<div class="card-body postItem-body" style="display: flex;justify-content: space-between;align-items: center;">
				<div class="post-info">
					<a style="max-width: fit-content; display: block;" class="post-title" href="{{ url_for('page', slug=page['slug']) }}">
						<h3>{{ page['title'] }}</h3>
					</a>
				</div>
				<div class="actions">
					{% if session['user'] %}
					<a href="{{ url_for('editPage', slug=page['slug']) }}" class="mob-mt-2"><svg width="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"></path></svg> Edit</a>
								<form class="delete" action="{{ url_for('deletePage', slug=page['slug']) }}" method="POST">
				<input type="submit" value="Delete"
				class="btn btn-danger mob-mt-2"
				onclick="return confirm('Are you sure you want to delete this page?')">
			</form>
					{% endif %}
				</div>
			</div>
		</div>
	{% endfor %}
{% else %}
<h2 class="text-center" style="margin-top: 50px; text-shadow: 0px 0px 50px var(--color);">There are currently no pages. {% if session['user_role'] == 'writer' or session['user_role'] == 'admin' %}<a href="{{url_for('createPage')}}">Create one!</a>{% endif %}</h2>
{% endif %}
{% endblock %}
